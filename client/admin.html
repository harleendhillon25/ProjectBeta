<!DOCTYPE html>
<html lang="en">

<<<<<<< HEAD

=======
>>>>>>> 036a3efdf7d7eeee984d175bf51b90d6f6a70249
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="assets/style.css" />
    <title>Admin Management</title>
</head>

<<<<<<< HEAD

<body>
    <div class="app-layout">


=======
<body>
    <div class="app-layout">

>>>>>>> 036a3efdf7d7eeee984d175bf51b90d6f6a70249
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo-wrapper">
                <img src="assets/images/riskRadorLogo.PNG" alt="RiskRadar Logo" class="logo" />
            </div>

<<<<<<< HEAD

            <a href="index.html" class="nav-link">Dashboard</a>
            <a href="security.html" class="nav-link">Threat & Security</a>
            <a href="admin.html" class="nav-link">Admin Management</a>
        </aside>


=======
            <a href="index.html" class="nav-link">Dashboard</a>
            <a href="security.html" class="nav-link">Threat &amp; Security</a>
            <a href="admin.html" class="nav-link">Admin Management</a>
        </aside>

>>>>>>> 036a3efdf7d7eeee984d175bf51b90d6f6a70249
        <!-- Main content -->
        <main class="main">
            <div class="header">
                <h1>Admin Management</h1>
                <button type="button" class="logout-btn">Log out</button>
            </div>

<<<<<<< HEAD

            <div class="container">
=======
            <div class="container">

                <!-- API Key section -->
>>>>>>> 036a3efdf7d7eeee984d175bf51b90d6f6a70249
                <h2>RiskRadar API Key</h2>
                <p class="admin-text">
                    This key is used to send security events (login attempts, account locks, password resets)
                    to the RiskRadar logging service.
                </p>

<<<<<<< HEAD

=======
>>>>>>> 036a3efdf7d7eeee984d175bf51b90d6f6a70249
                <div class="api-box">
                    <div class="api-row">
                        <div>
                            <div class="label">API Key</div>
                            <div class="value api-value" id="apiKeyDisplay">••••••••••••••••••••••••</div>
                        </div>

<<<<<<< HEAD

=======
>>>>>>> 036a3efdf7d7eeee984d175bf51b90d6f6a70249
                        <div class="api-actions">
                            <button class="btn btn-secondary" id="toggleKeyBtn" type="button">Show</button>
                            <button class="btn btn-secondary" id="copyKeyBtn" type="button">Copy</button>
                        </div>
                    </div>

<<<<<<< HEAD

                    <div class="api-note">
                        Keep this key private. Only admins should have access to it.
                    </div>
                </div>


                <h2>Send Test Log Event</h2>
                <p class="admin-text">
                    This simulates an event being sent to RiskRadar (like a login attempt).
                </p>


                <form id="admin-log-form" class="admin-form">
                    <div class="admin-grid">
                        <div>
                            <div class="label">Event Type</div>
                            <select class="admin-input" name="eventType" required>
                                <option value="login_attempt">login_attempt</option>
                                <option value="password_reset">password_reset</option>
                                <option value="account_lock">account_lock</option>
                                <option value="rate_limit">rate_limit</option>
                                <option value="account_created">account_created</option>
                            </select>
                        </div>


                        <div>
                            <div class="label">User ID / Email</div>
                            <input class="admin-input" name="userId" placeholder="e.g. harleenkaur@example.com"
                                required />
                        </div>


                        <div>
                            <div class="label">Status</div>
                            <select class="admin-input" name="status" required>
                                <option value="success">success</option>
                                <option value="failed">failed</option>
                                <option value="requested">requested</option>
                                <option value="locked">locked</option>
                                <option value="blocked">blocked</option>
                            </select>
                        </div>


                        <div>
                            <div class="label">IP Address</div>
                            <input class="admin-input" name="ipAddress" placeholder="e.g. 193.27.12.56" required />
                        </div>
                    </div>


                    <button class="btn btn-ai admin-send" type="submit" id="sendLogBtn">Send Log</button>
                    <div class="admin-status" id="adminStatus"></div>
                </form>


                <h2>Recent Logged Events (Preview)</h2>
                <p class="admin-text">
                    This table is a simple preview. In a real system, this would load from a database.
                </p>


                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>Time</th>
                            <th>Event</th>
                            <th>User</th>
                            <th>Status</th>
                            <th>IP</th>
                        </tr>
                    </thead>
                    <tbody id="adminLogTable">
                        <tr>
                            <td>23/01/2026 14:32</td>
                            <td>login_attempt</td>
                            <td>harleenkaur@example.com</td>
                            <td><span class="tag medium">failed</span></td>
                            <td>193.27.12.56</td>
                        </tr>
                    </tbody>
                </table>


=======
                    <div class="api-note">
                        Keep this key private. Only authorised administrators should have access to it.
                    </div>
                </div>

                <h3>Why do we have an API key container?</h3>
                <p class="admin-text">
                    Although the customer receives the API key from us, they still need a safe place to manage it.
                    This container keeps the key hidden by default, reduces mistakes, and makes it easy for
                    administrators
                    to copy the correct key when setting up logging.
                </p>

                <hr />

                <!-- Manual section -->
                <h2>Setup Manual (How to Enable Logging)</h2>
                <p class="admin-text">
                    Follow these steps to add RiskRadar logging into your project. You add one helper file,
                    then add one line where important actions happen, logging becomes automatic.
                </p>

                <h3>What is this code and what does it do?</h3>

                <p class="admin-text">
                    This code sends important security activity from your system to RiskRadar.
                </p>

                <p class="admin-text">
                    When something important happens, such as a login attempt or password reset, the system
                    automatically sends a short message to RiskRadar.
                </p>

                <p class="admin-text">
                    This helps administrators see problems early and keep user accounts safe.
                    The logging runs quietly in the background and does not affect users.
                </p>


                <h3>Step 1: Create a helper file</h3>
                <p class="admin-text">
                    Create a file called <strong>riskradar.js</strong> and paste the code below into it.
                    Replace <strong>CLIENT_API_KEY</strong> with the API key provided to you (or load it from your
                    <strong>.env</strong> file).
                </p>

                <pre class="code-box"><code>const RISK_RADAR_ENDPOINT = 'https://api.riskradar.io/logs';
const RISK_RADAR_API_KEY = 'CLIENT_API_KEY';

async function logEvent({ eventType, userId, status, ipAddress }) {
  try {
    await fetch(RISK_RADAR_ENDPOINT, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'x-api-key': RISK_RADAR_API_KEY
      },
      body: JSON.stringify({
        event_type: eventType,
        user_id: userId,
        status,
        ip_address: ipAddress,
        log_date_time: new Date().toISOString()
      })
    });
  } catch (err) {
    console.error('RiskRadar log failed:', err);
  }
}

module.exports = { logEvent };</code></pre>

                <h3>Step 2: Add one line where important actions happen</h3>
                <p class="admin-text">
                    Below are examples of where to add logging. You only add one line per action.
                </p>

                <h3>Login Attempt</h3>
                <pre
                    class="code-box"><code>logEvent({ eventType: 'login_attempt', userId: email, status: success ? 'success' : 'failed', ipAddress: req.ip });</code></pre>
                <p class="admin-text"> Logs every time a user tries to sign in and records whether it was successful or
                    failed.
                </p>


                <h3>Password Reset Required</h3>
                <pre
                    class="code-box"><code>logEvent({ eventType: 'password_reset', userId: email, status: 'requested', ipAddress: req.ip });</code></pre>
                <p class="admin-text">
                    Logs when a user requests to reset their password.
                </p>


                <h3>Account Locked</h3>
                <pre
                    class="code-box"><code>logEvent({ eventType: 'account_lock', userId: user.id, status: 'locked', ipAddress: req.ip });</code></pre>
                <p class="admin-text">
                    Logs when an account is locked due to suspicious activity or too many failed attempts.
                </p>


                <h3>Too many requests / rate limit</h3>
                <pre
                    class="code-box"><code>logEvent({ eventType: 'rate_limit', userId: 'anonymous', status: 'blocked', ipAddress: req.ip });</code></pre>
                <p class="admin-text">
                    Logs when the system blocks a user or device for sending too many requests.
                </p>


                <h3>Account created</h3>
                <pre
                    class="code-box"><code>logEvent({ eventType: 'account_created', userId: user.id, status: 'success', ipAddress: req.ip });</code></pre>
                <p class="admin-text">
                    Logs when a new user account is successfully created.
                </p>


                <p class="admin-text">
                    That’s it. Once these lines are added, RiskRadar logs your security events automatically.
                </p>

>>>>>>> 036a3efdf7d7eeee984d175bf51b90d6f6a70249
            </div>
        </main>
    </div>

<<<<<<< HEAD

=======
>>>>>>> 036a3efdf7d7eeee984d175bf51b90d6f6a70249
    <script src="js/index.js"></script>
    <script src="js/admin.js"></script>
</body>

<<<<<<< HEAD

</html>

=======
</html>
>>>>>>> 036a3efdf7d7eeee984d175bf51b90d6f6a70249
